<div class="modal-header">
  <h4 class="modal-title pull-left">Update Sighting</h4>
  <button
    type="button"
    class="close pull-right"
    aria-label="Close"
    (click)="closeModal()"
  >
    <span aria-hidden="true">Ã—</span>
  </button>
</div>

<div class="modal-body">
  <form [formGroup]="formSightingDetails">
    <div class="form-group row mb-3">
      <label for="txtMake" class="col-sm-4 col-form-label">Make</label>
      <div class="col-sm-8">
        <input
          type="text"
          class="form-control"
          id="txtMake"
          placeholder="Make"
          formControlName="make"
          [readonly]="isReadonly"
        />
      </div>
    </div>

    <div class="form-group row mb-3">
      <label for="txtModel" class="col-sm-4 col-form-label">Model</label>
      <div class="col-sm-8">
        <input
          type="text"
          class="form-control"
          id="txtModel"
          placeholder="Model"
          formControlName="model"
          [readonly]="isReadonly"
        />
      </div>
    </div>

    <div class="form-group row mb-3">
      <label for="txtRegistration" class="col-sm-4 col-form-label"
        >Registration</label
      >
      <div class="col-sm-8">
        <input
          type="text"
          class="form-control"
          id="txtRegistration"
          placeholder="Registration"
          formControlName="registration"
          [readonly]="isReadonly"
        />
      </div>
    </div>

    <div class="form-group row mb-3">
      <label for="txtLocation" class="col-sm-4 col-form-label">Location</label>
      <div class="col-sm-8">
        <input
          type="text"
          class="form-control"
          id="txtLocation"
          placeholder="Location"
          formControlName="location"
          [readonly]="isReadonly"
        />
      </div>
    </div>

    <div class="form-group row mb-3" [ngClass]="{'dv-disabled': isReadonly === true}">
      <label for="txtDate" class="col-sm-4 col-form-label">Date and Time</label>
      <div class="col-sm-8">
        <input
          type="datetime"
          class="form-control"
          id="txtDate"
          placeholder="Date and Time"
          formControlName="date"
          readonly
        />
        <dl-date-time-picker *ngIf="!isReadonly"
          startView="day"
          maxView="year"
          minView="minute"
          (change)="onCustomDateChange($event)"
        >
        </dl-date-time-picker>
      </div>
    </div>

    <div class="form-group" *ngIf="!isReadonly">
      <label for="uploader" class="col-sm-4 col-form-label">Upload Image</label>
      <input
        type="file"
        class="col-sm-8 form-control-file"
        formControlName="file"
        id="uploader"
        (change)="onFileChange($event)"
        accept="image/png, image/jpeg"
      />
    </div>

    <div *ngIf="isReadonly">
      <img [src]="imageData" class="rounded mx-auto d-block" />
    </div>
  </form>
</div>

<div class="modal-footer">
  <button
    *ngIf="!isReadonly"
    type="button"
    class="btn btn-primary"
    (click)="updateSighting()"
  >
    Save
  </button>
  <button type="button" class="btn btn-secondary" (click)="closeModal()">
    Close
  </button>
</div>
